{"version":3,"sources":["webpack:///./src/pages/index.tsx","webpack:///./src/components/TreeMap/ITreeMapProps.ts","webpack:///./src/containers/App.tsx","webpack:///./src/data/data.ts","webpack:///./src/data/data.1.level.ts","webpack:///./src/components/Node/Node.tsx","webpack:///./src/components/Breadcrumb/Breadcrumb.tsx","webpack:///./src/utils/Utils.ts","webpack:///./src/components/TreeMap/TreeMap.tsx"],"names":["__webpack_require__","r","__webpack_exports__","_containers_App__WEBPACK_IMPORTED_MODULE_0__","App","ColorModel","d","props","_this","_React$Component","call","this","state","data","data1","treeMapRef","React","render","_this2","react__WEBPACK_IMPORTED_MODULE_2__","react_container_dimensions__WEBPACK_IMPORTED_MODULE_6___default","a","_ref","width","height","_components_TreeMap_TreeMap__WEBPACK_IMPORTED_MODULE_3__","ref","id","valueUnit","colorModel","OneEachChildren","animated","className","nodeClassName","svgClassName","paddingInner","customD3ColorScale","scaleSequential","chromatic","onClick","setState","data2","current","resetZoom","zoomOut","console","log","getZoomLevel","hot","module","name","children","link","value","getNumberItemsWidthByNumberOfChars","fontSize","numberOfChars","LabelNewLine","label","textColor","hasChildren","fullLabel","react","fill","dx","dy","split","concat","map","item","index","key","x","NumberOfItemsRect","_ref2","nodeTotalNodes","itemsWidth","toString","length","itemsHeight","strokeDasharrayTotal","y","stroke","strokeDasharray","textAnchor","Node","_ref3","bgColor","globalTotalNodes","hideNumberOfChildren","isSelectedNode","treemapId","url","x0","x1","xScaleFactor","xScaleFunction","xTranslated","y0","y1","yScaleFactor","yScaleFunction","yTranslated","zoomEnabled","style","currentXTranslated","undefined","currentYTranslated","currentWidth","currentHeight","cursor","showNumberOfItems","clipWidth","Math","max","transform","classnames","Object","assign","href","target","clipPath","Node_LabelNewLine","Node_NumberOfItemsRect","Breadcrumb","items","ev","text","Utils","getTopChildren","getTopSubParent","node","parent","customId","getDepth","obj","depth","forEach","tmpDepth","getRGBColor","color","g","b","actualColor","Array","isArray","pop","ret","replace","parseInt","getHighContrastColor","c","i","pow","getHighContrastColorFromString","backgroundColor","rgbColor","TreeMap","_onBreadcrumbItemClicked","_zoomTo","_onNodeClick","currentTarget","namePropInData","_createD3TreeMap","scaleLinear","range","breadCrumbItems","selectedId","scopedNodes","_nodes","selectedNode","_treemap","_rootData","totalNodes","selectedNodeTotalNodes","componentWillReceiveProps","nextProps","_this$state","_this$props","svgStyle","childrenPropInData","breadCrumbClassName","disableBreadcrumb","reactNodes","iterateAllChildren","mainNode","level","_getNode","hasOwnProperty","element","Breadcrumb_Breadcrumb_Breadcrumb","_this$props2","valuePropInData","valueFormat","bgColorRangeLow","bgColorRangeHigh","d3treemap","size","tile","d3TreemapSquarify","paddingOuter","paddingTop","round","d3hierarchy","sum","s","sort","numberItemId","each","descendants","_valueFormatFunction","format","Depth","Value","extent","n","NumberOfChildren","_nodesbgColorFunction","domain","interpolate","interpolateHcl","_this$props3","hideValue","nodeStyle","linkPropInData","_this$state2","nodeClassNameFromData","formattedValue","_this$_getColorsFromN","_getColorsFromNode","components_Node_Node","_this$props4","originalBackgroundColor","filter","nodeId","_this3","_this$state3","currentNodeArray","currentNode","path","warn","defaultProps"],"mappings":"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","file":"component---src-pages-index-tsx-e70a55d8e062c1021650.js","sourcesContent":["import App from \"../containers/App\";\r\nexport default App;\r\n","import { ScaleSequential } from \"d3-scale\";\r\n\r\nexport interface ITreeMapProps<TreeMapInputData> {\r\n  id: string;\r\n  width: number;\r\n  height: number;\r\n  data: TreeMapInputData;\r\n  /*\r\n        Unit for values. For example MB\r\n    */\r\n  valueUnit?: string;\r\n\r\n  /*\r\n   * Format for the values\r\n   * https://github.com/d3/d3-format#format\r\n   */\r\n  valueFormat?: string;\r\n\r\n  /*\r\n   * Create and interpolates a background color range\r\n   */\r\n  bgColorRangeLow?: string;\r\n  bgColorRangeHigh?: string;\r\n\r\n  /*\r\n   * We do not need colorText anymore as it will be calculated as a high contrast color depending on background\r\n   */\r\n  // colorText?: string;\r\n\r\n  /**\r\n   * Hide breadcrumb\r\n   */\r\n  disableBreadcrumb?: boolean;\r\n\r\n  colorModel?: ColorModel;\r\n\r\n  hideNumberOfChildren?: boolean;\r\n  hideValue?: boolean;\r\n  animated?: boolean;\r\n\r\n  className?: string;\r\n  svgClassName?: string;\r\n  nodeClassName?: string;\r\n  breadCrumbClassName?: string;\r\n  svgStyle?: React.CSSProperties;\r\n  nodeStyle?: React.CSSProperties;\r\n  paddingInner?: number;\r\n\r\n  customD3ColorScale?: ScaleSequential<string>;\r\n\r\n  namePropInData?: string;\r\n  linkPropInData?: string;\r\n  valuePropInData?: string;\r\n  childrenPropInData?: string;\r\n}\r\n\r\nexport enum ColorModel {\r\n  Depth,\r\n  Value,\r\n  NumberOfChildren,\r\n  OneEachChildren\r\n}\r\n","import \"./App.css\";\r\n\r\nimport * as React from \"react\";\r\nimport TreeMap from \"../components/TreeMap/TreeMap\";\r\nimport { data as data1 } from \"../data/data\";\r\nimport { data as data2 } from \"../data/data.1.level\";\r\nimport ContainerDimensions from \"react-container-dimensions\";\r\nimport { ColorModel } from \"../components/TreeMap/ITreeMapProps\";\r\nimport { scaleSequential } from \"d3-scale\";\r\nimport * as chromatic from \"d3-scale-chromatic\";\r\n\r\nimport { hot } from \"react-hot-loader\";\r\n\r\ninterface TreeMapInPutData {\r\n  name: string;\r\n  value?: number;\r\n  children?: Array<TreeMapInPutData>;\r\n  className?: string;\r\n}\r\n\r\nclass App extends React.Component<{}, { data: TreeMapInPutData }> {\r\n  private treeMapRef: React.RefObject<TreeMap<TreeMapInPutData>>;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: data1\r\n    };\r\n    this.treeMapRef = React.createRef();\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ContainerDimensions>\r\n          {({ width, height }) => (\r\n            <TreeMap<TreeMapInPutData>\r\n              ref={this.treeMapRef}\r\n              id=\"myTreeMap\"\r\n              width={width}\r\n              height={400}\r\n              data={this.state.data}\r\n              valueUnit={\"MB\"}\r\n              colorModel={ColorModel.OneEachChildren}\r\n              animated={false}\r\n              className=\"AppTreeMap\"\r\n              nodeClassName=\"AppTreeMap__node\"\r\n              svgClassName=\"AppTreeMap__svg\"\r\n              paddingInner={2}\r\n              customD3ColorScale={scaleSequential(\r\n                chromatic.interpolateSpectral\r\n              )}\r\n              // svgStyle={{fontFamily: \"'Courier New', Courier, monospace\"}}\r\n              // nodeStyle={{fill: \"black\", stroke: \"white\"}}\r\n              // disableBreadcrumb={true}\r\n              // hideNumberOfChildren\r\n              // hideValue\r\n              // bgColorRangeLow={\"#007AFF\"}\r\n              // bgColorRangeHigh={\"#FFF500\"}\r\n              // bgColorRangeLow={\"#FFFFBF\"}\r\n              // bgColorRangeHigh={\"#91CF60\"}\r\n            />\r\n          )}\r\n        </ContainerDimensions>\r\n        <div>\r\n          <a onClick={() => this.setState({ data: data2 })}>Change data</a>\r\n        </div>\r\n        <div>\r\n          <a onClick={() => this.treeMapRef.current.resetZoom()}>Zoom Reset</a>\r\n        </div>\r\n        <div>\r\n          <a onClick={() => this.treeMapRef.current.zoomOut()}>Zoom out</a>\r\n        </div>\r\n        <div>\r\n          <a\r\n            onClick={() => console.log(this.treeMapRef.current.getZoomLevel())}\r\n          >\r\n            Zoom level\r\n          </a>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(App);\r\n","// Format\r\n// name: name of the file or folder\r\n// type: folder or file\r\n// value: number of bytes of the doc (calculated at folder level by d3)\r\n// children: sub files or sub folders\r\n\r\nexport const data = {\r\n  name: \"flare\",\r\n  children: [\r\n    {\r\n      name: \"analytics\",\r\n      className: \"AppTreeMap__analytics\",\r\n      link: \"https://blog.josequinto.com\",\r\n      children: [\r\n        {\r\n          name: \"cluster\",\r\n          children: [\r\n            {\r\n              name: \"AgglomerativeCluster\",\r\n              value: 3938,\r\n              link: \"https://blog.josequinto.com\"\r\n            },\r\n            { name: \"CommunityStructure\", value: 3812 },\r\n            { name: \"HierarchicalCluster\", value: 6714 },\r\n            { name: \"MergeEdge\", value: 743 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"graph\",\r\n          children: [\r\n            { name: \"BetweennessCentrality\", value: 3534 },\r\n            { name: \"LinkDistance\", value: 5731 },\r\n            { name: \"MaxFlowMinCut\", value: 7840 },\r\n            { name: \"ShortestPaths\", value: 5914 },\r\n            { name: \"SpanningTree\", value: 3416 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"optimization\",\r\n          children: [{ name: \"AspectRatioBanker\", value: 7074 }]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"animate\",\r\n      children: [\r\n        { name: \"Easing\", value: 17010 },\r\n        { name: \"FunctionSequence\", value: 5842 },\r\n        {\r\n          name: \"interpolate\",\r\n          children: [\r\n            { name: \"ArrayInterpolator\", value: 1983 },\r\n            { name: \"ColorInterpolator\", value: 2047 },\r\n            { name: \"DateInterpolator\", value: 1375 },\r\n            { name: \"Interpolator\", value: 8746 },\r\n            { name: \"MatrixInterpolator\", value: 2202 },\r\n            { name: \"NumberInterpolator\", value: 1382 },\r\n            { name: \"ObjectInterpolator\", value: 1629 },\r\n            { name: \"PointInterpolator\", value: 1675 },\r\n            { name: \"RectangleInterpolator\", value: 2042 }\r\n          ]\r\n        },\r\n        { name: \"ISchedulable\", value: 1041 },\r\n        { name: \"Parallel\", value: 5176 },\r\n        { name: \"Pause\", value: 449 },\r\n        { name: \"Scheduler\", value: 5593 },\r\n        { name: \"Sequence\", value: 5534 },\r\n        { name: \"Transition\", value: 9201 },\r\n        { name: \"Transitioner\", value: 19975 },\r\n        { name: \"TransitionEvent\", value: 1116 },\r\n        { name: \"Tween\", value: 6006 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"data\",\r\n      children: [\r\n        {\r\n          name: \"converters\",\r\n          children: [\r\n            { name: \"Converters\", value: 721 },\r\n            { name: \"DelimitedTextConverter\", value: 4294 },\r\n            { name: \"GraphMLConverter\", value: 9800 },\r\n            { name: \"IDataConverter\", value: 1314 },\r\n            { name: \"JSONConverter\", value: 2220 }\r\n          ]\r\n        },\r\n        { name: \"DataField\", value: 1759 },\r\n        { name: \"DataSchema\", value: 2165 },\r\n        { name: \"DataSet\", value: 586 },\r\n        { name: \"DataSource\", value: 3331 },\r\n        { name: \"DataTable\", value: 772 },\r\n        { name: \"DataUtil\", value: 3322 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"display\",\r\n      children: [\r\n        { name: \"DirtySprite\", value: 8833 },\r\n        { name: \"LineSprite\", value: 1732 },\r\n        { name: \"RectSprite\", value: 3623 },\r\n        { name: \"TextSprite\", value: 10066 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"flex\",\r\n      children: [{ name: \"FlareVis\", value: 4116 }]\r\n    },\r\n    {\r\n      name: \"physics\",\r\n      children: [\r\n        { name: \"DragForce\", value: 1082 },\r\n        { name: \"GravityForce\", value: 1336 },\r\n        { name: \"IForce\", value: 319 },\r\n        { name: \"NBodyForce\", value: 10498 },\r\n        { name: \"Particle\", value: 2822 },\r\n        { name: \"Simulation\", value: 9983 },\r\n        { name: \"Spring\", value: 2213 },\r\n        { name: \"SpringForce\", value: 1681 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"query\",\r\n      children: [\r\n        { name: \"AggregateExpression\", value: 1616 },\r\n        { name: \"And\", value: 1027 },\r\n        { name: \"Arithmetic\", value: 3891 },\r\n        { name: \"Average\", value: 891 },\r\n        { name: \"BinaryExpression\", value: 2893 },\r\n        { name: \"Comparison\", value: 5103 },\r\n        { name: \"CompositeExpression\", value: 3677 },\r\n        { name: \"Count\", value: 781 },\r\n        { name: \"DateUtil\", value: 4141 },\r\n        { name: \"Distinct\", value: 933 },\r\n        { name: \"Expression\", value: 5130 },\r\n        { name: \"ExpressionIterator\", value: 3617 },\r\n        { name: \"Fn\", value: 3240 },\r\n        { name: \"If\", value: 2732 },\r\n        { name: \"IsA\", value: 2039 },\r\n        { name: \"Literal\", value: 1214 },\r\n        { name: \"Match\", value: 3748 },\r\n        { name: \"Maximum\", value: 843 },\r\n        {\r\n          name: \"methods\",\r\n          children: [\r\n            { name: \"add\", value: 593 },\r\n            { name: \"and\", value: 330 },\r\n            { name: \"average\", value: 287 },\r\n            { name: \"count\", value: 277 },\r\n            { name: \"distinct\", value: 292 },\r\n            { name: \"div\", value: 595 },\r\n            { name: \"eq\", value: 594 },\r\n            { name: \"fn\", value: 460 },\r\n            { name: \"gt\", value: 603 },\r\n            { name: \"gte\", value: 625 },\r\n            { name: \"iff\", value: 748 },\r\n            { name: \"isa\", value: 461 },\r\n            { name: \"lt\", value: 597 },\r\n            { name: \"lte\", value: 619 },\r\n            { name: \"max\", value: 283 },\r\n            { name: \"min\", value: 283 },\r\n            { name: \"mod\", value: 591 },\r\n            { name: \"mul\", value: 603 },\r\n            { name: \"neq\", value: 599 },\r\n            { name: \"not\", value: 386 },\r\n            { name: \"or\", value: 323 },\r\n            { name: \"orderby\", value: 307 },\r\n            { name: \"range\", value: 772 },\r\n            { name: \"select\", value: 296 },\r\n            { name: \"stddev\", value: 363 },\r\n            { name: \"sub\", value: 600 },\r\n            { name: \"sum\", value: 280 },\r\n            { name: \"update\", value: 307 },\r\n            { name: \"variance\", value: 335 },\r\n            { name: \"where\", value: 299 },\r\n            { name: \"xor\", value: 354 },\r\n            { name: \"_\", value: 264 }\r\n          ]\r\n        },\r\n        { name: \"Minimum\", value: 843 },\r\n        { name: \"Not\", value: 1554 },\r\n        { name: \"Or\", value: 970 },\r\n        { name: \"Query\", value: 13896 },\r\n        { name: \"Range\", value: 1594 },\r\n        { name: \"StringUtil\", value: 4130 },\r\n        { name: \"Sum\", value: 791 },\r\n        { name: \"Variable\", value: 1124 },\r\n        { name: \"Variance\", value: 1876 },\r\n        { name: \"Xor\", value: 1101 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"scale\",\r\n      children: [\r\n        { name: \"IScaleMap\", value: 2105 },\r\n        { name: \"LinearScale\", value: 1316 },\r\n        { name: \"LogScale\", value: 3151 },\r\n        { name: \"OrdinalScale\", value: 3770 },\r\n        { name: \"QuantileScale\", value: 2435 },\r\n        { name: \"QuantitativeScale\", value: 4839 },\r\n        { name: \"RootScale\", value: 1756 },\r\n        { name: \"Scale\", value: 4268 },\r\n        { name: \"ScaleType\", value: 1821 },\r\n        { name: \"TimeScale\", value: 5833 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"util\",\r\n      children: [\r\n        { name: \"Arrays\", value: 8258 },\r\n        { name: \"Colors\", value: 10001 },\r\n        { name: \"Dates\", value: 8217 },\r\n        { name: \"Displays\", value: 12555 },\r\n        { name: \"Filter\", value: 2324 },\r\n        { name: \"Geometry\", value: 10993 },\r\n        {\r\n          name: \"heap\",\r\n          children: [\r\n            { name: \"FibonacciHeap\", value: 9354 },\r\n            { name: \"HeapNode\", value: 1233 }\r\n          ]\r\n        },\r\n        { name: \"IEvaluable\", value: 335 },\r\n        { name: \"IPredicate\", value: 383 },\r\n        { name: \"IValueProxy\", value: 874 },\r\n        {\r\n          name: \"math\",\r\n          children: [\r\n            { name: \"DenseMatrix\", value: 3165 },\r\n            { name: \"IMatrix\", value: 2815 },\r\n            { name: \"SparseMatrix\", value: 3366 }\r\n          ]\r\n        },\r\n        { name: \"Maths\", value: 17705 },\r\n        { name: \"Orientation\", value: 1486 },\r\n        {\r\n          name: \"palette\",\r\n          children: [\r\n            { name: \"ColorPalette\", value: 6367 },\r\n            { name: \"Palette\", value: 1229 },\r\n            { name: \"ShapePalette\", value: 2059 },\r\n            { name: \"SizePalette\", value: 2291 }\r\n          ]\r\n        },\r\n        { name: \"Property\", value: 5559 },\r\n        { name: \"Shapes\", value: 19118 },\r\n        { name: \"Sort\", value: 6887 },\r\n        { name: \"Stats\", value: 6557 },\r\n        { name: \"Strings\", value: 22026 }\r\n      ]\r\n    },\r\n    {\r\n      name: \"vis\",\r\n      children: [\r\n        {\r\n          name: \"axis\",\r\n          children: [\r\n            { name: \"Axes\", value: 1302 },\r\n            { name: \"Axis\", value: 24593 },\r\n            { name: \"AxisGridLine\", value: 652 },\r\n            { name: \"AxisLabel\", value: 636 },\r\n            { name: \"CartesianAxes\", value: 6703 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"controls\",\r\n          children: [\r\n            { name: \"AnchorControl\", value: 2138 },\r\n            { name: \"ClickControl\", value: 3824 },\r\n            { name: \"Control\", value: 1353 },\r\n            { name: \"ControlList\", value: 4665 },\r\n            { name: \"DragControl\", value: 2649 },\r\n            { name: \"ExpandControl\", value: 2832 },\r\n            { name: \"HoverControl\", value: 4896 },\r\n            { name: \"IControl\", value: 763 },\r\n            { name: \"PanZoomControl\", value: 5222 },\r\n            { name: \"SelectionControl\", value: 7862 },\r\n            { name: \"TooltipControl\", value: 8435 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"data\",\r\n          children: [\r\n            { name: \"Data\", value: 20544 },\r\n            { name: \"DataList\", value: 19788 },\r\n            { name: \"DataSprite\", value: 10349 },\r\n            { name: \"EdgeSprite\", value: 3301 },\r\n            { name: \"NodeSprite\", value: 19382 },\r\n            {\r\n              name: \"render\",\r\n              children: [\r\n                { name: \"ArrowType\", value: 698 },\r\n                { name: \"EdgeRenderer\", value: 5569 },\r\n                { name: \"IRenderer\", value: 353 },\r\n                { name: \"ShapeRenderer\", value: 2247 }\r\n              ]\r\n            },\r\n            { name: \"ScaleBinding\", value: 11275 },\r\n            { name: \"Tree\", value: 7147 },\r\n            { name: \"TreeBuilder\", value: 9930 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"events\",\r\n          children: [\r\n            { name: \"DataEvent\", value: 2313 },\r\n            { name: \"SelectionEvent\", value: 1880 },\r\n            { name: \"TooltipEvent\", value: 1701 },\r\n            { name: \"VisualizationEvent\", value: 1117 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"legend\",\r\n          children: [\r\n            { name: \"Legend\", value: 20859 },\r\n            { name: \"LegendItem\", value: 4614 },\r\n            { name: \"LegendRange\", value: 10530 }\r\n          ]\r\n        },\r\n        {\r\n          name: \"operator\",\r\n          children: [\r\n            {\r\n              name: \"distortion\",\r\n              children: [\r\n                { name: \"BifocalDistortion\", value: 4461 },\r\n                { name: \"Distortion\", value: 6314 },\r\n                { name: \"FisheyeDistortion\", value: 3444 }\r\n              ]\r\n            },\r\n            {\r\n              name: \"encoder\",\r\n              children: [\r\n                { name: \"ColorEncoder\", value: 3179 },\r\n                { name: \"Encoder\", value: 4060 },\r\n                { name: \"PropertyEncoder\", value: 4138 },\r\n                { name: \"ShapeEncoder\", value: 1690 },\r\n                { name: \"SizeEncoder\", value: 1830 }\r\n              ]\r\n            },\r\n            {\r\n              name: \"filter\",\r\n              children: [\r\n                { name: \"FisheyeTreeFilter\", value: 5219 },\r\n                { name: \"GraphDistanceFilter\", value: 3165 },\r\n                { name: \"VisibilityFilter\", value: 3509 }\r\n              ]\r\n            },\r\n            { name: \"IOperator\", value: 1286 },\r\n            {\r\n              name: \"label\",\r\n              children: [\r\n                { name: \"Labeler\", value: 9956 },\r\n                { name: \"RadialLabeler\", value: 3899 },\r\n                { name: \"StackedAreaLabeler\", value: 3202 }\r\n              ]\r\n            },\r\n            {\r\n              name: \"layout\",\r\n              children: [\r\n                { name: \"AxisLayout\", value: 6725 },\r\n                { name: \"BundledEdgeRouter\", value: 3727 },\r\n                { name: \"CircleLayout\", value: 9317 },\r\n                { name: \"CirclePackingLayout\", value: 12003 },\r\n                { name: \"DendrogramLayout\", value: 4853 },\r\n                { name: \"ForceDirectedLayout\", value: 8411 },\r\n                { name: \"IcicleTreeLayout\", value: 4864 },\r\n                { name: \"IndentedTreeLayout\", value: 3174 },\r\n                { name: \"Layout\", value: 7881 },\r\n                { name: \"NodeLinkTreeLayout\", value: 12870 },\r\n                { name: \"PieLayout\", value: 2728 },\r\n                { name: \"RadialTreeLayout\", value: 12348 },\r\n                { name: \"RandomLayout\", value: 870 },\r\n                { name: \"StackedAreaLayout\", value: 9121 },\r\n                { name: \"TreeMapLayout\", value: 9191 }\r\n              ]\r\n            },\r\n            { name: \"Operator\", value: 2490 },\r\n            { name: \"OperatorList\", value: 5248 },\r\n            { name: \"OperatorSequence\", value: 4190 },\r\n            { name: \"OperatorSwitch\", value: 2581 },\r\n            { name: \"SortOperator\", value: 2023 }\r\n          ]\r\n        },\r\n        { name: \"Visualization\", value: 16540 }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n","export const data = {\r\n  name: \"Documents\",\r\n  children: [\r\n    {\r\n      name: \"AgglomerativeCluster\",\r\n      value: 3938,\r\n      link: \"https://blog.josequinto.com\"\r\n    },\r\n    { name: \"CommunityStructure\", value: 3812 },\r\n    { name: \"HierarchicalCluster\", value: 6714 },\r\n    { name: \"MergeEdge\", value: 743 }\r\n  ]\r\n};\r\n","import \"./Node.css\";\r\n\r\nimport * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nexport interface NodeProps {\r\n  /*\r\n        HierarchyRectangularNode properties\r\n    */\r\n  x0?: number;\r\n  y0?: number;\r\n  x1?: number;\r\n  y1?: number;\r\n\r\n  bgColor: string;\r\n  className?: string;\r\n  fontSize: number;\r\n  globalTotalNodes: number;\r\n  hasChildren: boolean;\r\n  height?: number;\r\n  hideNumberOfChildren?: boolean;\r\n  id: number;\r\n  isSelectedNode: boolean;\r\n  label: string;\r\n  name: string;\r\n  nodeTotalNodes: number;\r\n  onClick?: any;\r\n  style?: React.CSSProperties;\r\n  textColor: string;\r\n  treemapId?: string;\r\n  url: string;\r\n  value: string;\r\n  width?: number;\r\n  xScaleFactor?: number;\r\n  xScaleFunction?: any;\r\n  xTranslated?: number;\r\n  yScaleFactor?: number;\r\n  yScaleFunction?: any;\r\n  yTranslated?: number;\r\n  zoomEnabled?: boolean;\r\n}\r\n\r\nconst getNumberItemsWidthByNumberOfChars = (\r\n  fontSize: number,\r\n  numberOfChars: number\r\n) => {\r\n  return (fontSize / 2) * numberOfChars + 5;\r\n};\r\n\r\nconst LabelNewLine = ({ label, textColor, fontSize, value, hasChildren }) => {\r\n  if (!label) {\r\n    return null;\r\n  }\r\n\r\n  if (hasChildren === true) {\r\n    const fullLabel = value ? `${label}\\xa0${value}` : label;\r\n    return (\r\n      <tspan fontSize={fontSize} fill={textColor} dx={4} dy={fontSize}>\r\n        {fullLabel}\r\n      </tspan>\r\n    );\r\n  } else {\r\n    const fullLabel = value\r\n      ? label.split(/(?=[A-Z][^A-Z])/g).concat(value)\r\n      : label.split(/(?=[A-Z][^A-Z])/g);\r\n    return fullLabel.map((item, index) => {\r\n      return (\r\n        <tspan\r\n          fontSize={fontSize}\r\n          fill={textColor}\r\n          key={index}\r\n          x={4}\r\n          dy={fontSize}\r\n        >\r\n          {item}\r\n        </tspan>\r\n      );\r\n    });\r\n  }\r\n};\r\n\r\nconst NumberOfItemsRect = ({\r\n  name,\r\n  width,\r\n  height,\r\n  fontSize,\r\n  textColor,\r\n  nodeTotalNodes\r\n}) => {\r\n  const itemsWidth = getNumberItemsWidthByNumberOfChars(\r\n    fontSize,\r\n    nodeTotalNodes.toString().length\r\n  );\r\n  const itemsHeight = fontSize;\r\n  const strokeDasharrayTotal = itemsWidth + itemsHeight;\r\n  if (width > itemsWidth && height > itemsHeight) {\r\n    return (\r\n      <g>\r\n        <rect\r\n          id={`rectNumberItems-${name}`}\r\n          x={width - itemsWidth}\r\n          y={0}\r\n          width={itemsWidth}\r\n          height={itemsHeight + 2}\r\n          fill=\"none\"\r\n          stroke={textColor}\r\n          strokeDasharray={`0,${strokeDasharrayTotal},${strokeDasharrayTotal}`}\r\n        />\r\n        <text\r\n          fontSize={fontSize}\r\n          fill={textColor}\r\n          x={width - itemsWidth + itemsWidth / 2}\r\n          y={itemsHeight}\r\n          textAnchor=\"middle\"\r\n        >\r\n          {nodeTotalNodes}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst Node: React.FunctionComponent<NodeProps> = ({\r\n  bgColor,\r\n  className,\r\n  fontSize,\r\n  globalTotalNodes,\r\n  hasChildren,\r\n  height,\r\n  hideNumberOfChildren,\r\n  id,\r\n  isSelectedNode,\r\n  label,\r\n  nodeTotalNodes,\r\n  onClick,\r\n  textColor,\r\n  treemapId,\r\n  url,\r\n  value,\r\n  width,\r\n  x0,\r\n  x1,\r\n  xScaleFactor,\r\n  xScaleFunction,\r\n  xTranslated,\r\n  y0,\r\n  y1,\r\n  yScaleFactor,\r\n  yScaleFunction,\r\n  yTranslated,\r\n  zoomEnabled,\r\n  style\r\n}) => {\r\n  const currentXTranslated =\r\n    xTranslated !== undefined\r\n      ? xTranslated\r\n      : zoomEnabled === true\r\n      ? xScaleFunction(x0)\r\n      : x0;\r\n  const currentYTranslated =\r\n    yTranslated !== undefined\r\n      ? yTranslated\r\n      : zoomEnabled === true\r\n      ? yScaleFunction(y0)\r\n      : y0;\r\n  const currentWidth = width !== undefined ? width : xScaleFactor * (x1 - x0);\r\n  const currentHeight =\r\n    height !== undefined ? height : yScaleFactor * (y1 - y0);\r\n\r\n  const cursor =\r\n    hasChildren === true && isSelectedNode === false ? \"pointer\" : \"auto\";\r\n\r\n  const itemsWidth = getNumberItemsWidthByNumberOfChars(\r\n    fontSize,\r\n    nodeTotalNodes.toString().length\r\n  );\r\n  const showNumberOfItems = !hideNumberOfChildren && hasChildren;\r\n\r\n  const clipWidth = Math.max(\r\n    0,\r\n    showNumberOfItems ? currentWidth - itemsWidth : currentWidth\r\n  );\r\n\r\n  return (\r\n    <g\r\n      transform={`translate(${currentXTranslated},${currentYTranslated})`}\r\n      id={`${id}`}\r\n      onClick={hasChildren ? onClick : null}\r\n      style={{ cursor }}\r\n    >\r\n      <rect\r\n        id={`rect-${id}`}\r\n        width={currentWidth}\r\n        height={currentHeight}\r\n        className={classnames(\"Node\", className)}\r\n        style={{\r\n          fill: bgColor,\r\n          stroke: textColor,\r\n          ...style\r\n        }}\r\n      />\r\n      <clipPath id={`clip-${treemapId}-${id}`}>\r\n        <rect width={clipWidth} height={currentHeight} />\r\n      </clipPath>\r\n      <a href={url} target=\"_blank\">\r\n        <text clipPath={`url(#clip-${treemapId}-${id})`}>\r\n          <LabelNewLine\r\n            label={label}\r\n            textColor={textColor}\r\n            fontSize={fontSize}\r\n            value={value}\r\n            hasChildren={hasChildren}\r\n          />\r\n        </text>\r\n      </a>\r\n      {showNumberOfItems && (\r\n        <NumberOfItemsRect\r\n          name={name}\r\n          width={currentWidth}\r\n          height={currentHeight}\r\n          fontSize={fontSize}\r\n          textColor={textColor}\r\n          nodeTotalNodes={nodeTotalNodes}\r\n        />\r\n      )}\r\n      <title>\r\n        {`${label}\\n${value}\\n${nodeTotalNodes}/${globalTotalNodes}`}\r\n      </title>\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default Node;\r\n","import \"./Breadcrumb.css\";\n\nimport * as React from \"react\";\nimport classnames from \"classnames\";\n\nexport interface IBreadcrumbProps {\n  /**\n   * Collection of breadcrumbs to render\n   */\n  items: IBreadcrumbItem[];\n  className?: string;\n}\n\nexport interface IBreadcrumbItem {\n  /**\n   * Text to display to the user for the breadcrumb\n   */\n  text: string;\n  /**\n   * Arbitrary unique string associated with the breadcrumb\n   */\n  key: string;\n  /**\n   * Callback issued when the breadcrumb is selected.\n   */\n  onClick?: (\n    ev?: React.MouseEvent<HTMLElement>,\n    item?: IBreadcrumbItem\n  ) => void;\n  /**\n   * Url to navigate to when this breadcrumb is clicked.\n   */\n  href?: string;\n}\n\nexport const Breadcrumb: React.FunctionComponent<IBreadcrumbProps> = ({\n  className,\n  items\n}) => {\n  if (!items) {\n    return null;\n  }\n\n  return (\n    <div className={classnames(\"TreeMap__breadcrumb\", className)}>\n      {items.map((item: IBreadcrumbItem, index: number) => (\n        <div key={index}>\n          <a\n            className=\"TreeMap__breadcrumbItem\"\n            id={item.key}\n            key={item.key}\n            onClick={item.onClick ? ev => item.onClick(ev, item) : undefined}\n            href={item.href}\n          >\n            {item.text}\n          </a>\n          {index < items.length - 1 ? <span className=\"TreeMap__breadcrumbSeparator\">/</span> : null}\n        </div>\n      ))}\n    </div>\n  );\n};\n","import { CustomHierarchyRectangularNode } from \"../components/TreeMap/TreeMap\";\n\nexport class Utils {\n  public static getTopChildren(data: any) {\n    return data.children ? data.children.length : 0;\n  }\n\n  public static getTopSubParent<TreeMapInputData>(\n    node: CustomHierarchyRectangularNode<TreeMapInputData>\n  ): number {\n    if (node.parent && node.parent.parent) {\n      return this.getTopSubParent(node.parent);\n    }\n    return node.customId;\n  }\n\n  public static getDepth(obj: any) {\n    let depth = 0;\n    if (obj.children) {\n      obj.children.forEach((d: any) => {\n        const tmpDepth = this.getDepth(d);\n        if (tmpDepth > depth) {\n          depth = tmpDepth;\n        }\n      });\n    }\n    return 1 + depth;\n  }\n\n  public static getRGBColor(color: string | Array<string>) {\n    if (!color) {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n    const actualColor = Array.isArray(color) ? color.pop() : color;\n\n    if (actualColor === \"white\" || actualColor === \"papayawhip\") {\n      return {\n        r: 255,\n        g: 255,\n        b: 255\n      };\n    }\n    if (actualColor === \"black\") {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n    // format: \"rgb(254, 214, 118)\"\n    const ret = actualColor.replace(/[^\\d,]/g, \"\").split(\",\");\n    if (ret && ret.length === 3) {\n      return {\n        r: parseInt(ret[0], 10),\n        g: parseInt(ret[1], 10),\n        b: parseInt(ret[2], 10)\n      };\n    }\n  }\n\n  public static getHighContrastColor(r: number, g: number, b: number) {\n    // based on\n    // http://stackoverflow.com/questions/407793/programmatically-choose-high-contrast-colors\n    // http://stackoverflow.com/questions/3942878/how-to-decide-font-color-in-white-or-black-depending-on-background-color\n    const c = [r / 255, g / 255, b / 255];\n    for (let i = 0; i < c.length; ++i) {\n      if (c[i] <= 0.03928) {\n        c[i] = c[i] / 12.92;\n      } else {\n        c[i] = Math.pow((c[i] + 0.055) / 1.055, 2.4);\n      }\n    }\n    const luminance = 0.2126 * c[0] + 0.7152 * c[1] + 0.0722 * c[2];\n    // return luminance > 0.179 ? \"black\" : \"white\";\n    return luminance > 0.4 ? \"black\" : \"white\";\n  }\n\n  public static getHighContrastColorFromString(\n    backgroundColor: string | undefined\n  ): string {\n    if (!backgroundColor) {\n      return \"black\";\n    }\n    const rgbColor = Utils.getRGBColor(backgroundColor);\n    if (rgbColor) {\n      // console.log(\"background: \" + backgroundColor);\n      // console.log(\"color: \" + Utils.getHighContrastColor(rgbColor.r, rgbColor.g, rgbColor.b));\n      return Utils.getHighContrastColor(rgbColor.r, rgbColor.g, rgbColor.b);\n    }\n  }\n}\n","import \"./TreeMap.css\";\r\n\r\nimport * as React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport { format } from \"d3-format\";\r\nimport {\r\n  TreemapLayout,\r\n  HierarchyRectangularNode,\r\n  treemap as d3treemap,\r\n  hierarchy as d3hierarchy,\r\n  treemapSquarify as d3TreemapSquarify\r\n} from \"d3-hierarchy\";\r\nimport {\r\n  ScaleLinear,\r\n  scaleLinear,\r\n  ScaleSequential,\r\n  scaleSequential\r\n} from \"d3-scale\";\r\nimport { extent } from \"d3-array\";\r\nimport * as chromatic from \"d3-scale-chromatic\";\r\nimport { interpolateHcl } from \"d3-interpolate\";\r\n\r\nimport Node from \"../Node\";\r\nimport Breadcrumb, { IBreadcrumbItem } from \"../Breadcrumb\";\r\nimport { ITreeMapProps, ColorModel } from \"./ITreeMapProps\";\r\nimport { ITreeMapState } from \"./ITreeMapState\";\r\n// import AnimatedNode from \"../AnimatedNode\";\r\nimport { Utils } from \"../../utils/Utils\";\r\n\r\nexport interface CustomHierarchyRectangularNode<TreeMapInputData>\r\n  extends HierarchyRectangularNode<TreeMapInputData> {\r\n  customId: number;\r\n}\r\n\r\nclass TreeMap<TreeMapInputData> extends React.Component<\r\n  ITreeMapProps<TreeMapInputData>,\r\n  ITreeMapState<TreeMapInputData>\r\n> {\r\n  // Default Props values\r\n  public static defaultProps: ITreeMapProps<{}> = {\r\n    id: \"myTreeMap\",\r\n    data: null,\r\n    height: 600,\r\n    width: 600,\r\n    valueFormat: \",d\",\r\n    valueUnit: \"MB\",\r\n    disableBreadcrumb: false,\r\n    colorModel: ColorModel.Depth,\r\n    animated: false,\r\n    paddingInner: 0,\r\n    customD3ColorScale: scaleSequential(chromatic.interpolateSpectral),\r\n    namePropInData: \"name\",\r\n    linkPropInData: \"link\",\r\n    valuePropInData: \"value\", // can be value, count, ...\r\n    childrenPropInData: \"children\"\r\n  };\r\n\r\n  // Note. This treemap element initially was using treemap and hierarchy directly on the render.\r\n  //       I noticed a performance problem when the original data \"this.props.data\" has more than 1500 elements.\r\n  //       Now, the component is designed to show only the first level of nodes and when click on one expand the rest.\r\n  private _treemap: TreemapLayout<TreeMapInputData>;\r\n  private _rootData: HierarchyRectangularNode<TreeMapInputData>;\r\n  private _nodes: Array<CustomHierarchyRectangularNode<TreeMapInputData>>;\r\n\r\n  // Numeric value format function\r\n  private _valueFormatFunction: (n: number) => string;\r\n  // Background Color function\r\n  private _nodesbgColorFunction:\r\n    | ScaleSequential<string>\r\n    | ScaleLinear<string, string>;\r\n\r\n  constructor(props: ITreeMapProps<TreeMapInputData>) {\r\n    super(props);\r\n\r\n    const { width, height, data, namePropInData } = props;\r\n\r\n    this._createD3TreeMap(width, height, data);\r\n\r\n    // Default State values\r\n    this.state = {\r\n      height: height,\r\n      width: width,\r\n      data: data,\r\n      xScaleFactor: 1,\r\n      yScaleFactor: 1,\r\n      xScaleFunction: scaleLinear().range([0, width]),\r\n      yScaleFunction: scaleLinear().range([0, height]),\r\n      zoomEnabled: false,\r\n      // TODO: Replace data.name by id\r\n      breadCrumbItems: [\r\n        {\r\n          text: data[namePropInData],\r\n          key: 0,\r\n          onClick: this._onBreadcrumbItemClicked\r\n        }\r\n      ],\r\n      selectedId: 0,\r\n      scopedNodes: this._nodes,\r\n      selectedNode: this._treemap(\r\n        this._rootData\r\n      ) as CustomHierarchyRectangularNode<TreeMapInputData>,\r\n      totalNodes: this._nodes.length,\r\n      selectedNodeTotalNodes: this._nodes.length\r\n    };\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: ITreeMapProps<TreeMapInputData>) {\r\n    const { width, height, data, namePropInData } = nextProps;\r\n\r\n    if (height !== this.props.height || width !== this.props.width) {\r\n      this.setState({\r\n        width,\r\n        height,\r\n        xScaleFunction: scaleLinear().range([0, width]),\r\n        yScaleFunction: scaleLinear().range([0, height])\r\n      });\r\n    }\r\n\r\n    this._createD3TreeMap(width, height, data);\r\n    this.setState({\r\n      data,\r\n      width,\r\n      height,\r\n      xScaleFactor: 1,\r\n      yScaleFactor: 1,\r\n      xScaleFunction: scaleLinear().range([0, width]),\r\n      yScaleFunction: scaleLinear().range([0, height]),\r\n      zoomEnabled: false,\r\n      // TODO: Replace data.name by id\r\n      breadCrumbItems: [\r\n        {\r\n          text: data[namePropInData],\r\n          key: 0,\r\n          onClick: this._onBreadcrumbItemClicked\r\n        }\r\n      ],\r\n      selectedId: 0,\r\n      scopedNodes: this._nodes,\r\n      selectedNode: this._treemap(\r\n        this._rootData\r\n      ) as CustomHierarchyRectangularNode<TreeMapInputData>,\r\n      totalNodes: this._nodes.length,\r\n      selectedNodeTotalNodes: this._nodes.length\r\n    });\r\n  }\r\n\r\n  public render() {\r\n    const { width, height, breadCrumbItems, selectedNode, data } = this.state;\r\n\r\n    const {\r\n      svgClassName,\r\n      svgStyle,\r\n      className,\r\n      childrenPropInData,\r\n      breadCrumbClassName,\r\n      disableBreadcrumb\r\n    } = this.props;\r\n\r\n    this._createD3TreeMap(width, height, data);\r\n\r\n    let reactNodes: Array<React.ReactNode> = [];\r\n    const maxLevel = 1;\r\n    const iterateAllChildren = (\r\n      mainNode: CustomHierarchyRectangularNode<TreeMapInputData>,\r\n      level: number\r\n    ) => {\r\n      reactNodes = reactNodes.concat(this._getNode(mainNode));\r\n      if (level < maxLevel) {\r\n        if (\r\n          mainNode.hasOwnProperty(childrenPropInData) &&\r\n          mainNode[childrenPropInData].length > 0\r\n        ) {\r\n          mainNode[childrenPropInData].forEach(element => {\r\n            iterateAllChildren(element, level + 1);\r\n          });\r\n        }\r\n      }\r\n    };\r\n    iterateAllChildren(selectedNode, 0);\r\n\r\n    return (\r\n      <div className={className}>\r\n        {disableBreadcrumb === false ? (\r\n          <Breadcrumb items={breadCrumbItems} className={breadCrumbClassName} />\r\n        ) : null}\r\n        <svg\r\n          className={classnames(\"TreeMap__mainSvg\", svgClassName)}\r\n          height={height}\r\n          width={width}\r\n          style={{ ...svgStyle }}\r\n        >\r\n          {reactNodes}\r\n        </svg>\r\n        {/*<div>Total items: {this.state.selectedNodeTotalNodes}  / {this.state.totalNodes}</div>*/}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _createD3TreeMap(\r\n    width: number,\r\n    height: number,\r\n    data: TreeMapInputData\r\n  ) {\r\n    const {\r\n      valuePropInData,\r\n      paddingInner,\r\n      valueFormat,\r\n      colorModel,\r\n      bgColorRangeLow,\r\n      bgColorRangeHigh,\r\n      customD3ColorScale\r\n    } = this.props;\r\n\r\n    // 1. Create treemap structure\r\n    if (!this._treemap) {\r\n      this._treemap = d3treemap<TreeMapInputData>()\r\n        .size([width, height])\r\n        .tile(d3TreemapSquarify)\r\n        .paddingOuter(3)\r\n        .paddingTop(19)\r\n        .paddingInner(paddingInner)\r\n        .round(true);\r\n    }\r\n\r\n    // 2. Before compute a hierarchical layout, we need a root node\r\n    //    If the data is in JSON we use d3.hierarchy\r\n    if (!this._rootData) {\r\n      this._rootData = d3hierarchy(data)\r\n        .sum(s => s[valuePropInData])\r\n        .sort(\r\n          (a, b) =>\r\n            b.height - a.height || b[valuePropInData] - a[valuePropInData]\r\n        ) as HierarchyRectangularNode<TreeMapInputData>;\r\n    }\r\n\r\n    // 3. Get array of nodes\r\n    let numberItemId = 0;\r\n    this._nodes = this._treemap(this._rootData)\r\n      .each((item: CustomHierarchyRectangularNode<TreeMapInputData>) => {\r\n        item.customId = numberItemId++;\r\n      })\r\n      .descendants() as Array<CustomHierarchyRectangularNode<TreeMapInputData>>;\r\n\r\n    // Format function\r\n    this._valueFormatFunction = format(valueFormat);\r\n\r\n    let d: [number | { valueOf(): number }, number | { valueOf(): number }];\r\n    switch (colorModel) {\r\n      case ColorModel.Depth:\r\n        d = [0, Utils.getDepth(data) - 1];\r\n        break;\r\n      case ColorModel.Value:\r\n        d = extent(this._nodes, n => {\r\n          if (n.parent !== null) {\r\n            return n[valuePropInData];\r\n          }\r\n        });\r\n        break;\r\n      case ColorModel.NumberOfChildren:\r\n        d = extent(this._nodes, n =>\r\n          n.parent !== null ? n.descendants().length : 1\r\n        );\r\n        break;\r\n      case ColorModel.OneEachChildren:\r\n        d = [Utils.getTopChildren(data), 0];\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // Create bgColorFunction\r\n    if (bgColorRangeLow && bgColorRangeHigh) {\r\n      this._nodesbgColorFunction = scaleLinear<string>()\r\n        .domain(d)\r\n        .interpolate(interpolateHcl)\r\n        .range([bgColorRangeLow, bgColorRangeHigh]);\r\n    } else {\r\n      this._nodesbgColorFunction = customD3ColorScale.domain(d);\r\n      // Red, yellow, green: interpolateYlOrRd\r\n      // this._nodesbgColorFunction = scaleSequential(\r\n      //   chromatic.interpolateSpectral\r\n      // ).domain(d);\r\n    }\r\n  }\r\n\r\n  private _getNode(node: CustomHierarchyRectangularNode<TreeMapInputData>) {\r\n    const {\r\n      id: treemapId,\r\n      valueUnit,\r\n      hideValue,\r\n      hideNumberOfChildren,\r\n      nodeStyle,\r\n      nodeClassName,\r\n      valuePropInData,\r\n      childrenPropInData,\r\n      namePropInData,\r\n      linkPropInData\r\n    } = this.props;\r\n\r\n    const {\r\n      totalNodes,\r\n      selectedId,\r\n      xScaleFactor,\r\n      xScaleFunction,\r\n      yScaleFactor,\r\n      yScaleFunction,\r\n      zoomEnabled\r\n    } = this.state;\r\n\r\n    const name = node.data[namePropInData];\r\n    const id = node.customId;\r\n    const url = node.data[linkPropInData];\r\n    const nodeClassNameFromData = node.data[\"className\"];\r\n\r\n    const hasChildren =\r\n      node[childrenPropInData] && node[childrenPropInData].length > 0\r\n        ? true\r\n        : false;\r\n    const formattedValue = `(${this._valueFormatFunction(\r\n      node[valuePropInData]\r\n    )} ${valueUnit})`;\r\n    const nodeTotalNodes = node.descendants().length - 1;\r\n\r\n    const { bgColor, textColor } = this._getColorsFromNode(\r\n      node,\r\n      nodeTotalNodes\r\n    );\r\n\r\n    return (\r\n      <Node\r\n        bgColor={bgColor}\r\n        className={classnames(nodeClassName, nodeClassNameFromData)}\r\n        style={nodeStyle}\r\n        fontSize={14}\r\n        globalTotalNodes={totalNodes}\r\n        hasChildren={hasChildren}\r\n        hideNumberOfChildren={hideNumberOfChildren}\r\n        id={id}\r\n        isSelectedNode={id === selectedId}\r\n        key={id}\r\n        label={name}\r\n        name={name}\r\n        nodeTotalNodes={nodeTotalNodes}\r\n        onClick={this._onNodeClick}\r\n        textColor={textColor}\r\n        treemapId={treemapId}\r\n        url={url}\r\n        value={!hideValue && formattedValue}\r\n        x0={node.x0}\r\n        x1={node.x1}\r\n        xScaleFactor={xScaleFactor}\r\n        xScaleFunction={xScaleFunction}\r\n        y0={node.y0}\r\n        y1={node.y1}\r\n        yScaleFactor={yScaleFactor}\r\n        yScaleFunction={yScaleFunction}\r\n        zoomEnabled={zoomEnabled}\r\n      />\r\n    );\r\n  }\r\n\r\n  private _onBreadcrumbItemClicked = (\r\n    ev: React.MouseEvent<HTMLElement>,\r\n    item: IBreadcrumbItem\r\n  ) => {\r\n    this._zoomTo(parseInt(item.key));\r\n  };\r\n\r\n  private _onNodeClick = (ev: React.MouseEvent<HTMLElement>) => {\r\n    this._zoomTo(parseInt(ev.currentTarget.id));\r\n  };\r\n\r\n  private _getColorsFromNode(\r\n    node: CustomHierarchyRectangularNode<TreeMapInputData>,\r\n    nodeTotalNodes: number\r\n  ) {\r\n    const { colorModel, valuePropInData } = this.props;\r\n\r\n    let backgroundColor;\r\n    switch (colorModel) {\r\n      case ColorModel.Depth:\r\n        backgroundColor = this._nodesbgColorFunction(node.depth);\r\n        if (node.parent === null) {\r\n          backgroundColor = this._nodesbgColorFunction(0);\r\n        }\r\n        break;\r\n      case ColorModel.Value:\r\n        backgroundColor = this._nodesbgColorFunction(node[valuePropInData]);\r\n        if (node.parent === null) {\r\n          backgroundColor = this._nodesbgColorFunction(1);\r\n        }\r\n        break;\r\n      case ColorModel.NumberOfChildren:\r\n        backgroundColor = this._nodesbgColorFunction(nodeTotalNodes);\r\n        if (node.parent === null) {\r\n          backgroundColor = this._nodesbgColorFunction(1);\r\n        }\r\n        break;\r\n      case ColorModel.OneEachChildren:\r\n        const originalBackgroundColor = this._nodesbgColorFunction(\r\n          Utils.getTopSubParent<TreeMapInputData>(node)\r\n        );\r\n        if (node.depth > 1) {\r\n          backgroundColor = scaleLinear<string>()\r\n            .domain([0, node && node.children ? node.children.length : 1])\r\n            .range([\"white\", originalBackgroundColor])(\r\n            Utils.getTopSubParent<TreeMapInputData>(node)\r\n          );\r\n        } else {\r\n          backgroundColor = originalBackgroundColor;\r\n        }\r\n        if (node.parent === null) {\r\n          backgroundColor = this._nodesbgColorFunction(0);\r\n        }\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return {\r\n      bgColor: backgroundColor,\r\n      textColor: Utils.getHighContrastColorFromString(backgroundColor)\r\n    };\r\n  }\r\n\r\n  public resetZoom() {\r\n    this._zoomTo(0);\r\n  }\r\n\r\n  public zoomOut() {\r\n    const { selectedId } = this.state;\r\n    const selectedNode = this._nodes\r\n      .filter((item: CustomHierarchyRectangularNode<TreeMapInputData>) => {\r\n        return item.customId === selectedId;\r\n      })\r\n      .pop();\r\n    if (\r\n      selectedNode &&\r\n      selectedNode.parent &&\r\n      selectedNode.parent.customId !== undefined\r\n    ) {\r\n      this._zoomTo(selectedNode.parent.customId);\r\n    }\r\n  }\r\n\r\n  public getZoomLevel() {\r\n    const { selectedNode } = this.state;\r\n    return selectedNode.depth;\r\n  }\r\n\r\n  private _zoomTo(nodeId: number) {\r\n    const {\r\n      selectedId,\r\n      xScaleFunction,\r\n      yScaleFunction,\r\n      width,\r\n      height\r\n    } = this.state;\r\n\r\n    if (selectedId !== nodeId) {\r\n      const currentNodeArray = this._nodes.filter(\r\n        (item: CustomHierarchyRectangularNode<TreeMapInputData>) => {\r\n          return item.customId.toString() === nodeId.toString();\r\n        }\r\n      );\r\n      if (currentNodeArray.length > 0) {\r\n        const currentNode = currentNodeArray[0];\r\n        const scopedNodes = currentNode.descendants();\r\n        const x = currentNode.x0;\r\n        const y = currentNode.y0;\r\n        const dx = currentNode.x1 - currentNode.x0;\r\n        const dy = currentNode.y1 - currentNode.y0;\r\n        const xScaleFactor = width / dx;\r\n        const yScaleFactor = height / dy;\r\n        const breadCrumbItems = this._treemap(this._rootData)\r\n          .path(currentNode)\r\n          .map((n: CustomHierarchyRectangularNode<TreeMapInputData>) => {\r\n            return {\r\n              text: n.data[\"name\"],\r\n              key: n.customId,\r\n              onClick: this._onBreadcrumbItemClicked\r\n            };\r\n          });\r\n        this.setState({\r\n          xScaleFactor,\r\n          yScaleFactor,\r\n          xScaleFunction: xScaleFunction.domain([x, x + dx]),\r\n          yScaleFunction: yScaleFunction.domain([y, y + dy]),\r\n          zoomEnabled: currentNode.parent === null ? false : true,\r\n          selectedId: nodeId,\r\n          selectedNode: currentNode,\r\n          scopedNodes,\r\n          selectedNodeTotalNodes: scopedNodes.length,\r\n          breadCrumbItems\r\n        });\r\n      } else {\r\n        console.warn(\"No node found for \" + nodeId);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default TreeMap;\r\n"],"sourceRoot":""}